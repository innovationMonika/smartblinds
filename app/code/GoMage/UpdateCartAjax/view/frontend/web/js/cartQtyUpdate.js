define(["jquery","Magento_Checkout/js/action/get-totals","Magento_Customer/js/customer-data"],function($,getTotalsAction,customerData){$(document).ready(function(){$(document).on("input",'input[name$="[qty]"]',function(){reloadCart()}),$(document).on("click",".qty-btn",function(){let t=$(this).closest("div.qty").find(".input-text.qty").val(),e;return $(this).hasClass("decrease-qty")?e=parseInt(t)-1:$(this).hasClass("increase-qty")&&(e=parseInt(t)+1),t=parseInt(t),e&&t<=e?t=e:t=t-1,t>0&&($(this).closest("div.qty").find(".input-text.qty").val(t),reloadCart()),!1})});function reloadCart(){let form=$("form#form-validate");$.ajax({url:form.attr("action"),data:form.serialize(),showLoader:!0,success:function(t){let e=$.parseHTML(t),a=$(e).find("#form-validate"),r=["cart"];$("#form-validate").replaceWith(a),customerData.reload(r,!0);let o=$.Deferred();getTotalsAction([],o),$("#form-validate").applyBindings()},error:function(xhr,status,error){let err=eval("("+xhr.responseText+")");console.log(err.Message)}})}});
