define(["underscore","getSwatchSelectedProductId","./system"],function(v,g,f){"use strict";return{init:function(n){this.$valueField=n},get:function(n=null,m=null){if(!this.$valueField)return null;var e=window.jsonConfig,t=n||parseInt(g()),i=m||f.get(),a=t?e.additionalAttributes[t].weight:null,l=t?e.additionalAttributes[t].thickness:null,d=t?e.additionalAttributes[t].width:null,w=t?e.additionalAttributes[t].railroad:!1,u=t?e.additionalAttributes[t].max_width:null,s=t?e.additionalAttributes[t].max_height:null,r=this.$valueField.data("width"),h=this.$valueField.data("height");if(!r&&!h)return null;var o=[t,i,a,l,d],c=!0;return i&&(i.systemCategory==="venetian_blinds"||i.systemCategory==="honeycomb_blinds")&&(u=i.maxWidth,s=i.maxHeight,o=[t,i,a]),o.forEach(function(b){b||(c=!1)}),!c||!this.$valueField?null:{productId:t,system:i,product:{weight:a,thickness:l,width:d,railroad:Boolean(w),maxWidth:u,maxHeight:s},input:{width:parseInt(r),height:parseInt(h)}}}}});
