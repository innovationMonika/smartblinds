define(["jquery","mage/translate","uiComponent","sampleBasket","Magento_Ui/js/modal/modal"],function(t,s,e,i,n){"use strict";var o=t(window);return e.extend({defaults:{modalOptions:{type:"custom",responsive:!0,modalClass:"samples-basket",title:s("Basket")},links:{successMessage:"basket-form:successMessage"}},initialize:function(){return this._super().initElements().initVariables().initEvents(),this.trySwitchCounterVisibility(),this},initObservable:function(){return this._super().observe(["items","successMessage"].join(" "))},initElements:function(){return this.$modal=t(this.selectors.modal),this},initVariables:function(){return this.updateBasketItems(),this},initEvents:function(){return o.on("sample-basket-updated",this.onItemsUpdated.bind(this)),this.$modal.on("modalclosed",this.onCloseModal.bind(this)),this},onItemsUpdated:function(){this.updateBasketItems(),this.trySwitchCounterVisibility()},updateBasketItems:function(){this.items(i.getSimpleItems())},trySwitchCounterVisibility:function(){this.items().length&&t(this.selectors.counter).show()},toggleModal:function(){n(this.modalOptions,this.$modal),this.$modal.modal("openModal")},onCloseModal:function(){this.successMessage(null)}})});
