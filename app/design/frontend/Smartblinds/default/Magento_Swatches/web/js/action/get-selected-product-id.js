define(["jquery","underscore"],function(e,t){"use strict";var r={swatchOptions:'div[data-role="swatch-options"]',swatchInput:".swatch-input"};return function(){var c=e(r.swatchOptions),f=c.find(r.swatchInput),h=window.jsonConfig,i=[],n=!0;if(f.each(function(){var s=e(this),o=s.data("attr-name");if(!o){n=!1;return}var l=t.findWhere(h.attributes,{code:o.toString()}),u=t.findWhere(l.options,{id:s.val().toString()});if(!u){n=!1;return}i.push(u.products)}),!n)return null;var a=t.intersection.apply(t,i);return a.length===1?a[0]:null}});
