define(["jquery","underscore","jquery-ui-modules/widget"],function(t,r){"use strict";return t.widget("mageworx.optionFeaturesIsDefault",{options:{},firstRun:function(f,h,g,s){},update:function(f,h,g,s){var u=this.getIsDefaultValues(),c=s.getNewlyShowedOptionValues();r.isEmpty(c)||r.isEmpty(u)||t.each(c,function(y,a){var n=u[a],e=t('[data-option_type_id="'+a+'"]');if(e.css("display")!="none"){var v=e.parents(".field"),i=v.attr("data-option_id"),l=s.getApoData();if(t.inArray(n,["drop_down","multiple"])!==-1)if(t.inArray(n,["multiple"])!==-1){var o=e.closest("select").val();o===null?(o=[],o.push(e.val())):t.isArray(o)&&o.push(e.val()),s.removeNewlyShowedOptionValue(a),e.closest("select").val(o),l[i].push(parseInt(e.val())),e.closest("select").trigger("change")}else s.removeNewlyShowedOptionValue(a),e.closest("select").val()||(e.closest("select").val(e.val()),l[i].push(parseInt(e.val())),e.closest("select").trigger("change"));else if(t.inArray(n,["checkbox","radio"])!==-1){s.removeNewlyShowedOptionValue(a);var p=!1;if((t.inArray(n,["checkbox"])!==-1||!r.isUndefined(l[i])&&l[i].length<1)&&(p=!0),p===!0){var d=e.find(":input");d.prop("checked",!0),l[i].push(parseInt(a)),d.trigger("change")}}}})},getIsDefaultValues:function(){return this.options.is_default_values}}),t.mageworx.optionFeaturesIsDefault});
