define(["jquery","underscore","jquery-ui-modules/widget","jquery/validate","mage/translate"],function(e,o){"use strict";return function(n){e.validator.addMethod("mageworx-selection-limit",function(a,r){var t=r.name.replace(/(^.+\D)(\d+)(\D.+$)/i,"$2");if(o.isUndefined(n.config[t]))return!0;var c=e(r).closest(".field");if(c.length>0&&c.css("display")==="none")return!0;var l=parseInt(n.config[t].selection_limit_from),u=parseInt(n.config[t].selection_limit_to);if(!l&&!u)return!0;var i=0;return r.type==="checkbox"?i=e('input[name="'+r.name+'"]:checked').length:o.isNull(a)||(i=a.length),l<=i&&(!u||u>=i)},e.mage.__("Please, choose required number of values."))}});
