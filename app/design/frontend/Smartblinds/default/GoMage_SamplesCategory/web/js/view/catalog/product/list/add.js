define(["jquery","underscore","uiComponent","ko","sampleBasket"],function(n,i,r,d,s){"use strict";var a=n(window);return r.extend({initialize:function(){return this._super().initEvents().rebindForAjaxContent().updateItemState(),this},initObservable:function(){return this._super().observe(["buttonText","toggleClass"]),this},initEvents:function(){return a.on("sample-basket-updated",this.onBaskedUpdated.bind(this)),this},onBaskedUpdated:function(t){this.updateItemState()},updateItemState:function(){let t=i.findWhere(this.items,{id:this.itemId});return t&&s.getItemBySwatches(t)?this.buttonText(this.addedButtonText).toggleClass(this.addedToCartClass):this.buttonText(this.addButtonText).toggleClass(this.addToCartClass),this},addToBasket:function(){let t=null,e=i.findWhere(this.items,{id:this.itemId});if(!e)return this;if(s.getItemBySwatches(e))return this;try{e.parentId&&(t=i.findWhere(this.items,{id:e.parentId})),s.addItem(e,t)}catch(o){console.log(o)}return this},removeFromBasket:function(){let t=i.findWhere(this.items,{id:this.itemId});return t?s.getItemBySwatches(t)?(s.removeItemBySwatches(t),this):this:this},rebindForAjaxContent:function(){let t=n(this.elementSelector),e=t.get(0);return i.isUndefined(e)||(d.cleanNode(e),d.applyBindings(this,e)),this}})});
