define(["jquery","underscore","uiComponent","ko","sampleBasket"],function(s,i,r,d,n){"use strict";var a=s(window);return r.extend({initialize:function(){return this._super().initEvents().rebindForAjaxContent().updateItemState(),this},initObservable:function(){return this._super().observe(["buttonText","toggleClass"]),this},initEvents:function(){return a.on("sample-basket-updated",this.onBaskedUpdated.bind(this)),this},onBaskedUpdated:function(t){this.updateItemState()},updateItemState:function(){let t=i.findWhere(this.items,{id:this.itemId});return t&&n.getItemBySwatches(t)?this.buttonText(this.addedButtonText).toggleClass(this.addedToCartClass):this.buttonText(this.addButtonText).toggleClass(this.addToCartClass),this},addToBasket:function(){let t=null,e=i.findWhere(this.items,{id:this.itemId});if(!e)return this;if(n.getItemBySwatches(e))return this;try{e.parentId&&(t=i.findWhere(this.items,{id:e.parentId})),n.addItem(e,t)}catch(o){console.log(o)}return this},removeFromBasket:function(){let t=i.findWhere(this.items,{id:this.itemId});return t?n.getItemBySwatches(t)?(n.removeItemBySwatches(t),this):this:this},rebindForAjaxContent:function(){let t=s(this.elementSelector),e=t.get(0);return i.isUndefined(e)||(d.cleanNode(e),d.applyBindings(this,e)),this}})});
