/*!
 * Infinite Ajax Scroll v2.3.1
 * A jQuery plugin for infinite scrolling
 * https://infiniteajaxscroll.com
 *
 * Commercial use requires one-time purchase of a commercial license
 * https://infiniteajaxscroll.com/docs/license.html
 *
 * Non-commercial use is licensed under the MIT License
 *
 * Copyright (c) 2018 Webcreate (Jeroen Fiege)
 */define(["jquery"],function(h){var l=function(t){return this.list=[],this.fireStack=[],this.isFiring=!1,this.isDisabled=!1,this.Deferred=t.Deferred,this.fire=function(e){var n=e[0],i=e[1],s=e[2];this.isFiring=!0;for(var r=0,o=this.list.length;o>r;r++)if(this.list[r]!=null&&this.list[r].fn.apply(n,s)===!1){i.reject();break}this.isFiring=!1,i.resolve(),this.fireStack.length&&this.fire(this.fireStack.shift())},this.inList=function(e,n){n=n||0;for(var i=n,s=this.list.length;s>i;i++)if(this.list[i].fn===e||e.guid&&this.list[i].fn.guid&&e.guid===this.list[i].fn.guid)return i;return-1},this};l.prototype={add:function(t,e){var n={fn:t,priority:e};e=e||0;for(var i=0,s=this.list.length;s>i;i++)if(e>this.list[i].priority)return this.list.splice(i,0,n),this;return this.list.push(n),this},remove:function(t){for(var e=0;(e=this.inList(t,e))>-1;)this.list.splice(e,1);return this},has:function(t){return this.inList(t)>-1},fireWith:function(t,e){var n=this.Deferred();return this.isDisabled?n.reject():(e=e||[],e=[t,n,e.slice?e.slice():e],this.isFiring?this.fireStack.push(e):this.fire(e),n)},disable:function(){this.isDisabled=!0},enable:function(){this.isDisabled=!1}},function(t){"use strict";var e=-1,n=function(i,s){return this.itemsContainerSelector=s.container,this.itemSelector=s.item,this.nextSelector=s.next,this.paginationSelector=s.pagination,this.$scrollContainer=i,this.$container=window===i.get(0)?t(document):i,this.defaultDelay=s.delay,this.negativeMargin=s.negativeMargin,this.nextUrl=null,this.isBound=!1,this.isPaused=!1,this.isInitialized=!1,this.jsXhr=!1,this.listeners={next:new l(t),load:new l(t),loaded:new l(t),render:new l(t),rendered:new l(t),scroll:new l(t),noneLeft:new l(t),ready:new l(t)},this.extensions=[],this.scrollHandler=function(){if(this.isBound&&!this.isPaused){var r=this.getCurrentScrollOffset(this.$scrollContainer),o=this.getScrollThreshold();e!=o&&(this.fire("scroll",[r,o]),r>=o&&this.next())}},this.getItemsContainer=function(){return t(this.itemsContainerSelector,this.$container)},this.getLastItem=function(){return t(this.itemSelector,this.getItemsContainer().get(0)).last()},this.getFirstItem=function(){return t(this.itemSelector,this.getItemsContainer().get(0)).first()},this.getScrollThreshold=function(r){var o;return r=r||this.negativeMargin,r=r>=0?-1*r:r,o=this.getLastItem(),o.length===0?e:o.offset().top+o.height()+r},this.getCurrentScrollOffset=function(r){var o=0,a=r.height();return o=window===r.get(0)?r.scrollTop():r.offset().top,(navigator.platform.indexOf("iPhone")!=-1||navigator.platform.indexOf("iPod")!=-1)&&(a+=80),o+a},this.getNextUrl=function(r){return r=r||this.$container,t(this.nextSelector,r).last().attr("href")},this.load=function(r,o,a){function A(y){f=t(this.itemsContainerSelector,y).eq(0),f.length===0&&(f=t(y).filter(this.itemsContainerSelector).eq(0)),f&&f.find(this.itemSelector).each(function(){v.push(this)}),p.fire("loaded",[y,v]),o&&(g=+new Date-I,a>g?setTimeout(function(){o.call(p,y,v)},a-g):o.call(p,y,v))}var f,g,p=this,v=[],I=+new Date;a=a||this.defaultDelay;var m={url:r,ajaxOptions:{dataType:"html"}};return p.fire("load",[m]),this.jsXhr=t.ajax(m.url+"&isAjax=1",m.ajaxOptions).done(t.proxy(A,p)),this.jsXhr},this.render=function(r,o){var a=this,A=this.getLastItem(),f=0,g=this.fire("render",[r]);g.done(function(){t(r).hide(),A.after(r),t(r).fadeIn(400,function(){++f<r.length||(a.fire("rendered",[r]),o&&o())})}),g.fail(function(){o&&o()})},this.hidePagination=function(){this.paginationSelector&&t(this.paginationSelector,this.$container).hide()},this.restorePagination=function(){this.paginationSelector&&t(this.paginationSelector,this.$container).show()},this.throttle=function(r,o){var a,A,f=0;return a=function(){function g(){f=+new Date,r.apply(p,v)}var p=this,v=arguments,I=+new Date-f;A?clearTimeout(A):g(),I>o?g():A=setTimeout(g,o)},t.guid&&(a.guid=r.guid=r.guid||t.guid++),a},this.fire=function(r,o){return this.listeners[r].fireWith(this,o)},this.pause=function(){this.isPaused=!0},this.resume=function(){this.isPaused=!1},this};n.prototype.initialize=function(){if(this.isInitialized)return!1;var i="onscroll"in this.$scrollContainer.get(0),s=this.getCurrentScrollOffset(this.$scrollContainer),r=this.getScrollThreshold();return i?(this.hidePagination(),this.bind(),this.nextUrl=this.getNextUrl(),this.nextUrl||this.fire("noneLeft",[this.getLastItem()]),this.nextUrl&&s>=r?(this.next(),this.one("rendered",function(){this.isInitialized=!0,this.fire("ready")})):(this.isInitialized=!0,this.fire("ready")),this):!1},n.prototype.reinitialize=function(){this.isInitialized=!1,this.unbind(),this.initialize()},n.prototype.bind=function(){if(!this.isBound){this.$scrollContainer.on("scroll",t.proxy(this.throttle(this.scrollHandler,150),this));for(var i=0,s=this.extensions.length;s>i;i++)this.extensions[i].bind(this);this.isBound=!0,this.resume()}},n.prototype.unbind=function(){if(this.isBound){this.$scrollContainer.off("scroll",this.scrollHandler);for(var i=0,s=this.extensions.length;s>i;i++)typeof this.extensions[i].unbind!="undefined"&&this.extensions[i].unbind(this);this.isBound=!1}},n.prototype.destroy=function(){try{this.jsXhr.abort()}catch{}this.unbind(),this.$scrollContainer.data("ias",null)},n.prototype.on=function(i,s,r){if(typeof this.listeners[i]=="undefined")throw new Error('There is no event called "'+i+'"');return r=r||0,this.listeners[i].add(t.proxy(s,this),r),this.isInitialized&&(i==="ready"?t.proxy(s,this)():i!=="noneLeft"||this.nextUrl||t.proxy(s,this)()),this},n.prototype.one=function(i,s){var r=this,o=function(){r.off(i,s),r.off(i,o)};return this.on(i,s),this.on(i,o),this},n.prototype.off=function(i,s){if(typeof this.listeners[i]=="undefined")throw new Error('There is no event called "'+i+'"');return this.listeners[i].remove(s),this},n.prototype.next=function(){var i=this.nextUrl,s=this;if(!i)return!1;this.pause();var r=this.fire("next",[i]);return r.done(function(){s.load(i,function(o,a){s.render(a,function(){s.nextUrl=s.getNextUrl(o),s.nextUrl||s.fire("noneLeft",[s.getLastItem()]),s.resume()})})}),r.fail(function(){s.resume()}),!0},n.prototype.extension=function(i){if(typeof i.bind=="undefined")throw new Error(`Extension doesn't have required method "bind"`);return typeof i.initialize!="undefined"&&i.initialize(this),this.extensions.push(i),this.isBound&&this.reinitialize(),this},t.ias=function(i){var s=t(window);return s.ias.apply(s,arguments)},t.fn.ias=function(i){var s=Array.prototype.slice.call(arguments),r=this;return this.each(function(){var o=t(this),a=o.data("ias"),A=t.extend({},t.fn.ias.defaults,o.data(),typeof i=="object"&&i);if(a||(o.data("ias",a=new n(o,A)),A.initialize&&t(document).ready(t.proxy(a.initialize,a))),typeof i=="string"){if(typeof a[i]!="function")throw new Error('There is no method called "'+i+'"');s.shift(),a[i].apply(a,s)}r=a}),r},t.fn.ias.defaults={item:".item",container:".listing",next:".next",pagination:!1,delay:600,negativeMargin:10,initialize:!0}}(h);var d=function(t){return t=h.extend({},this.defaults,t),this.ias=null,this.prevSelector=t.prev,this.prevUrl=null,this.listeners={prev:new l(h)},this.onPageChange=function(e,n,i){if(window.history&&window.history.replaceState){var s=history.state;history.replaceState(s,document.title,i)}},this.onScroll=function(e,n){var i=this.getScrollThresholdFirstItem();this.prevUrl&&(e-=this.ias.$scrollContainer.height(),i>=e&&this.prev())},this.onReady=function(){var e=this.ias.getCurrentScrollOffset(this.ias.$scrollContainer),n=this.getScrollThresholdFirstItem();e-=this.ias.$scrollContainer.height(),n>=e&&this.prev()},this.getPrevUrl=function(e){return e||(e=this.ias.$container),h(this.prevSelector,e).last().attr("href")},this.getScrollThresholdFirstItem=function(){var e;return e=this.ias.getFirstItem(),e.length===0?-1:e.offset().top},this.renderBefore=function(e,n){var i=this.ias,s=i.getFirstItem(),r=0;i.fire("render",[e]),h(e).hide(),s.before(e),h(e).fadeIn(400,function(){++r<e.length||(i.fire("rendered",[e]),n&&n())})},this};d.prototype.initialize=function(t){var e=this;this.ias=t,h.extend(t.listeners,this.listeners),t.prev=function(){return e.prev()},this.prevUrl=this.getPrevUrl()},d.prototype.bind=function(t){t.on("pageChange",h.proxy(this.onPageChange,this)),t.on("scroll",h.proxy(this.onScroll,this)),t.on("ready",h.proxy(this.onReady,this))},d.prototype.unbind=function(t){t.off("pageChange",this.onPageChange),t.off("scroll",this.onScroll),t.off("ready",this.onReady)},d.prototype.prev=function(){var t=this.prevUrl,e=this,n=this.ias;if(!t)return!1;n.pause();var i=n.fire("prev",[t]);return i.done(function(){n.load(t,function(s,r){e.renderBefore(r,function(){e.prevUrl=e.getPrevUrl(s),n.resume(),e.prevUrl&&e.prev()})})}),i.fail(function(){n.resume()}),!0},d.prototype.defaults={prev:".prev"};var x=function(t){return t=h.extend({},this.defaults,t),this.ias=null,this.uid=new Date().getTime(),this.html=t.html.replace("{text}",t.text),this.showNoneLeft=function(){var e=h(this.html).attr("id","ias_noneleft_"+this.uid),n=this.ias.getLastItem();n.after(e),e.fadeIn()},this};x.prototype.bind=function(t){this.ias=t,t.on("noneLeft",h.proxy(this.showNoneLeft,this))},x.prototype.unbind=function(t){t.off("noneLeft",this.showNoneLeft)},x.prototype.defaults={text:"You reached the end.",html:'<div class="ias-noneleft" style="text-align: center;">{text}</div>'};var u=function(){return this.ias=null,this.pagebreaks=[[0,document.location.toString()]],this.lastPageNum=1,this.enabled=!0,this.listeners={pageChange:new l(h)},this.onScroll=function(t,e){if(this.enabled){var n,i=this.ias,s=this.getCurrentPageNum(t),r=this.getCurrentPagebreak(t);this.lastPageNum!==s&&(n=r[1],i.fire("pageChange",[s,t,n])),this.lastPageNum=s}},this.onNext=function(t){var e=this.ias.getCurrentScrollOffset(this.ias.$scrollContainer);this.pagebreaks.push([e,t]);var n=this.getCurrentPageNum(e)+1;this.ias.fire("pageChange",[n,e,t]),this.lastPageNum=n},this.onPrev=function(t){var e=this,n=e.ias,i=n.getCurrentScrollOffset(n.$scrollContainer),s=i-n.$scrollContainer.height(),r=n.getFirstItem();this.enabled=!1,this.pagebreaks.unshift([0,t]),n.one("rendered",function(){for(var o=1,a=e.pagebreaks.length;a>o;o++)e.pagebreaks[o][0]=e.pagebreaks[o][0]+r.offset().top;var A=e.getCurrentPageNum(s)+1;n.fire("pageChange",[A,s,t]),e.lastPageNum=A,e.enabled=!0})},this};u.prototype.initialize=function(t){this.ias=t,h.extend(t.listeners,this.listeners)},u.prototype.bind=function(t){try{t.on("prev",h.proxy(this.onPrev,this),this.priority)}catch{}t.on("next",h.proxy(this.onNext,this),this.priority),t.on("scroll",h.proxy(this.onScroll,this),this.priority)},u.prototype.unbind=function(t){try{t.off("prev",this.onPrev)}catch{}t.off("next",this.onNext),t.off("scroll",this.onScroll)},u.prototype.getCurrentPageNum=function(t){for(var e=this.pagebreaks.length-1;e>0;e--)if(t>this.pagebreaks[e][0])return e+1;return 1},u.prototype.getCurrentPagebreak=function(t){for(var e=this.pagebreaks.length-1;e>=0;e--)if(t>this.pagebreaks[e][0])return this.pagebreaks[e];return null},u.prototype.priority=500;var C=function(t){return t=h.extend({},this.defaults,t),this.ias=null,this.uid=new Date().getTime(),this.src=t.src,this.html=t.html.replace("{src}",this.src),this.showSpinner=function(){var e=this.getSpinner()||this.createSpinner(),n=this.ias.getLastItem();n.after(e),e.fadeIn()},this.showSpinnerBefore=function(){var e=this.getSpinner()||this.createSpinner(),n=this.ias.getFirstItem();n.before(e),e.fadeIn()},this.removeSpinner=function(){this.hasSpinner()&&this.getSpinner().remove()},this.getSpinner=function(){var e=h("#ias_spinner_"+this.uid);return e.length>0?e:!1},this.hasSpinner=function(){var e=h("#ias_spinner_"+this.uid);return e.length>0},this.createSpinner=function(){var e=h(this.html).attr("id","ias_spinner_"+this.uid);return e.hide(),e},this};C.prototype.bind=function(t){this.ias=t,t.on("next",h.proxy(this.showSpinner,this)),t.on("render",h.proxy(this.removeSpinner,this));try{t.on("prev",h.proxy(this.showSpinnerBefore,this))}catch{}},C.prototype.unbind=function(t){t.off("next",this.showSpinner),t.off("render",this.removeSpinner);try{t.off("prev",this.showSpinnerBefore)}catch{}},C.prototype.defaults={src:"data:image/gif;base64,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",html:'<div class="ias-spinner" style="text-align: center;"><img src="{src}"/></div>'};var c=function(t){return t=h.extend({},this.defaults,t),this.ias=null,this.html=t.html.replace("{text}",t.text),this.htmlPrev=t.htmlPrev.replace("{text}",t.textPrev),this.enabled=!0,this.count=0,this.offset=t.offset,this.$triggerNext=null,this.$triggerPrev=null,this.showTriggerNext=function(){if(!this.enabled||this.offset===!1||++this.count<this.offset)return!0;var e=this.$triggerNext||(this.$triggerNext=this.createTrigger(this.next,this.html)),n=this.ias.getLastItem();return n.after(e),e.fadeIn(),!1},this.showTriggerPrev=function(){if(!this.enabled)return!0;var e=this.$triggerPrev||(this.$triggerPrev=this.createTrigger(this.prev,this.htmlPrev)),n=this.ias.getFirstItem();return n.before(e),e.fadeIn(),!1},this.onRendered=function(){this.enabled=!0},this.createTrigger=function(e,n){var i,s=new Date().getTime();return n=n||this.html,i=h(n).attr("id","ias_trigger_"+s),i.hide(),i.on("click",h.proxy(e,this)),i},this};return c.prototype.bind=function(t){this.ias=t,t.on("next",h.proxy(this.showTriggerNext,this),this.priority),t.on("rendered",h.proxy(this.onRendered,this),this.priority);try{t.on("prev",h.proxy(this.showTriggerPrev,this),this.priority)}catch{}},c.prototype.unbind=function(t){t.off("next",this.showTriggerNext),t.off("rendered",this.onRendered);try{t.off("prev",this.showTriggerPrev)}catch{}},c.prototype.next=function(){this.enabled=!1,this.ias.pause(),this.$triggerNext&&(this.$triggerNext.remove(),this.$triggerNext=null),this.ias.next()},c.prototype.prev=function(){this.enabled=!1,this.ias.pause(),this.$triggerPrev&&(this.$triggerPrev.remove(),this.$triggerPrev=null),this.ias.prev()},c.prototype.defaults={text:"Load more items",html:'<div class="ias-trigger ias-trigger-next" style="text-align: center; cursor: pointer;"><a>{text}</a></div>',textPrev:"Load previous items",htmlPrev:'<div class="ias-trigger ias-trigger-prev" style="text-align: center; cursor: pointer;"><a>{text}</a></div>',offset:0},c.prototype.priority=1e3,{IASCallbacks:l,IASHistoryExtension:d,IASNoneLeftExtension:x,IASPagingExtension:u,IASSpinnerExtension:C,IASTriggerExtension:c}});
